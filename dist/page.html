<!DOCTYPE html>
<meta charset="UTF-8">
<html>
    <script id='clipspace-vertex-shader-2d' type='notjs'>
        // simple vertex shader, expecting positions to be in clipspace
        // attribute will receive data from a buffer
        attribute vec4 a_position;

        //all shaders have a main function
        void main() {
            // gl_Position is a special var for a vertex shaders
            gl_Position = a_position;
        }
    </script>
    <script id='pixel-vertex-shader-2d' type='notjs'>
        // vertex shader that expects positions in pixel-vertex-shader-2d, uses bottom-left origin
        attribute vec2 a_position;

        uniform vec2 u_resolution;

        void main() {
            // pixel value (x or y) => clipspace value
            // 0 => -1
            // res/2 => 0
            // res => 1
            // take pixel value, divide by resolution (mapping from 0 to 1)
            // then, subtract 0.5 and multiply by 2, to go from a 0->1 mapping to -1->1
            vec2 zeroToOne = a_position / u_resolution; //range: [0, 1]
            vec2 minusPointFive = zeroToOne - 0.5; //range: [-.5, .5]
            vec2 clipSpace = minusPointFive * 2.0; //range: [-1, 1]
            gl_Position = vec4(clipSpace, 0, 1);
        }
    </script>
    <script id='static-color-fragment-shader-2d' type='notjs'>
        // fragment shaders do not have a default precision
        // so it needs to be set here
        precision mediump float;

        void main() {
            // gl_FragColor is a special var for fragment shaders
            gl_FragColor = vec4(1, 0, 0.5, 1); //reddish-purple color
        }
    </script>
    <script id='uniform-color-fragment-shader-2d' type='notjs'>
        precision mediump float;

        uniform vec4 u_color;

        void main() {
            gl_FragColor = u_color;
        }
    </script>
    <body>
        <canvas id="canvas">
            Canvas error!
        </canvas>
        <script src="main.js"></script>
    </body>
</html>